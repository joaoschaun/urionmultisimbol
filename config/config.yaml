mt5:
  login: ${MT5_LOGIN}
  password: ${MT5_PASSWORD}
  server: ${MT5_SERVER}
  path: ${MT5_PATH}
  timeout: 60000
  max_reconnect_attempts: 5
trading:
  symbol: XAUUSD
  timeframes:
  - M1
  - M5
  - M15
  - M30
  - H1
  - H4
  - D1
  default_lot_size: 0.01
  min_lot_size: 0.01
  max_lot_size: 1.0
  max_open_positions: 6  # ⬆️ AUMENTADO: 3→6 (1 por estratégia)
  spread_threshold: 5
  slippage: 3
risk:
  max_risk_per_trade: 0.02
  max_drawdown: 0.08  # ⬇️ REDUZIDO: 15%→8% (day trading seguro)
  max_daily_loss: 0.05
  stop_loss_pips: 50
  take_profit_pips: 100
  trailing_stop_enabled: true
  trailing_stop_distance: 20  # ⬇️ REDUZIDO: 30→20 pips (protege lucros mais cedo)
  break_even_enabled: true
  break_even_trigger: 15  # ⬇️ REDUZIDO: 40→15 pips (protege breakeven MUITO mais cedo)
schedule:
  timezone: America/New_York
  trading_days:
  - 0
  - 1
  - 2
  - 3
  - 4
  market_open:
    hour: 18
    minute: 30
  market_close:
    hour: 16
    minute: 30
  weekend_close:
    day: 5
    hour: 16
    minute: 30
  weekend_open:
    day: 0
    hour: 18
    minute: 30
  avoid_news_minutes_before: 0
  avoid_news_minutes_after: 0
strategies:
  enabled:
  - trend_following
  - mean_reversion
  - breakout
  - news_trading
  - scalping
  trend_following:
    enabled: true
    timeframe: H1
    cycle_seconds: 900
    max_positions: 2
    min_confidence: 0.65
    ema_fast: 12
    ema_slow: 26
    adx_threshold: 25
    min_trend_strength: 0.6
    trailing_stop_distance: 20
    break_even_trigger: 30
    partial_close_trigger: 40
    max_spread_pips: 2.0
    volume_confirmation: true
  mean_reversion:
    enabled: true
    timeframe: M15
    cycle_seconds: 600
    max_positions: 2
    min_confidence: 0.70
    bollinger_period: 20
    bollinger_std: 2
    rsi_period: 14
    rsi_overbought: 70
    rsi_oversold: 30
    trailing_stop_distance: 12
    break_even_trigger: 18
    partial_close_trigger: 25
    max_spread_pips: 2.0
    volume_confirmation: true
  breakout:
    enabled: true
    timeframe: M30
    cycle_seconds: 1800
    max_positions: 2
    min_confidence: 0.75
    support_resistance_lookback: 50
    breakout_confirmation_candles: 2
    volume_threshold: 1.5
    trailing_stop_distance: 25
    break_even_trigger: 35
    partial_close_trigger: 50
    max_spread_pips: 2.0
    volume_confirmation: true
  news_trading:
    enabled: true
    cycle_seconds: 300
    max_positions: 2
    min_confidence: 0.80
    high_impact_only: true
    min_sentiment_confidence: 0.7
    trade_on_prediction: true
    trailing_stop_distance: 15
    break_even_trigger: 20
    partial_close_trigger: 30
    max_spread_pips: 2.0
    volume_confirmation: true
  scalping:
    enabled: true
    timeframe: M5
    cycle_seconds: 60
    max_positions: 2
    min_confidence: 0.65
    max_spread_pips: 3
    min_momentum: 0.0002
    rsi_min: 40
    rsi_max: 60
    target_pips: 8
    stop_pips: 4
    min_volume_ratio: 1.2
    trailing_stop_distance: 5
    break_even_trigger: 8
    partial_close_trigger: 12
    volume_confirmation: true
    max_trades_per_hour: 2
  range_trading:
    enabled: true
    timeframe: M5
    cycle_seconds: 180
    max_positions: 2
    min_confidence: 0.60
    adx_max: 25
    rsi_buy_min: 35
    rsi_buy_max: 45
    rsi_sell_min: 55
    rsi_sell_max: 65
    stoch_low: 30
    stoch_high: 70
    bb_touch_threshold: 0.003
    trailing_stop_distance: 10
    break_even_trigger: 15
    partial_close_trigger: 20
    max_spread_pips: 2.0
    volume_confirmation: true
technical_analysis:
  indicators:
  - name: EMA
    periods:
    - 9
    - 21
    - 50
    - 200
  - name: SMA
    periods:
    - 20
    - 50
    - 100
    - 200
  - name: MACD
    fast: 12
    slow: 26
    signal: 9
  - name: ADX
    period: 14
  - name: RSI
    period: 14
  - name: Stochastic
    k_period: 14
    d_period: 3
  - name: CCI
    period: 20
  - name: Bollinger Bands
    period: 20
    std: 2
  - name: ATR
    period: 14
  - name: Keltner Channel
    period: 20
    multiplier: 2
  - name: Volume
  - name: OBV
  - name: MFI
    period: 14
  patterns:
  - Doji
  - Hammer
  - Shooting Star
  - Engulfing
  - Morning Star
  - Evening Star
  - Three White Soldiers
  - Three Black Crows
ml:
  enabled: true
  model_type: ensemble
  retrain_frequency: daily
  min_training_samples: 1000
  features:
  - price_change
  - volume_change
  - rsi
  - macd
  - bollinger_position
  - atr
  - time_of_day
  - day_of_week
  - news_sentiment
  target: profitable_trade
  validation_split: 0.2
  test_split: 0.1
news:
  forexnews_api_key: u2lyge5a8ehgtlikrv4owyqsitphrcxqu6afzuja
  finazon_api_key: 830c05bb65994f99ae39629a0e9f8edffw
  fmp_api_key: ZvAVZ4inPZ4mtTnJ4cuLSQYYSrLQcfkr
  twelvedata_api_key: a0f59fab7a354ce080c93b0b019e5e61
  finnhub_api_key: d47a14hr01qh8nnbrh7gd47a14hr01qh8nnbrh80
  sources:
  - forexnews
  - finnhub
  - financialmodelingprep
  sentiment_analysis:
    enabled: true
    model: transformer
    confidence_threshold: 0.6
  impact_levels:
    high:
    - NFP
    - FOMC
    - CPI
    - GDP
    - Interest Rate Decision
    medium:
    - Unemployment
    - Retail Sales
    - Manufacturing PMI
    low:
    - Consumer Confidence
    - Housing Data
order_generator:
  enabled: true
  cycle_interval_seconds: 300
  min_signal_confidence: 0.6
  require_consensus: true
  trading_hours:
    start_hour: 0
    start_minute: 0
    end_hour: 23
    end_minute: 59
order_manager:
  enabled: true
  cycle_interval_seconds: 60
  partial_close:
    enabled: true
    target_pips: 20  # ⬇️ REDUZIDO: 50→20 pips (fecha 50% aos 20 pips de lucro!)
    close_percentage: 0.5  # Fecha metade da posição = garante lucro
notifications:
  telegram:
    enabled: true
    send_trade_signals: true
    send_trade_executions: true
    send_trade_closures: true
    send_daily_summary: true
    send_errors: true
    send_warnings: true
  email:
    enabled: false
    smtp_server: smtp.gmail.com
    smtp_port: 587
    from_email: ''
    to_email: ''
logging:
  level: INFO  # INFO para monitorar operações e aprendizagem
  format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
  handlers:
  - console
  - file
  - rotating_file
  file_path: logs/urion.log
  max_file_size: 10485760  # 10MB por arquivo
  backup_count: 10  # Máximo 100MB (10 arquivos × 10MB)
database:
  url: ${DATABASE_URL}
  pool_size: 10
  max_overflow: 20
  echo: false
redis:
  url: ${REDIS_URL}
  decode_responses: true
  max_connections: 50
monitoring:
  prometheus_enabled: false
  prometheus_port: 9090
  sentry_enabled: false
  sentry_dsn: ${SENTRY_DSN}
  metrics:
  - total_trades
  - winning_trades
  - losing_trades
  - win_rate
  - profit_factor
  - sharpe_ratio
  - max_drawdown
  - average_trade_duration
