mt5:
  login: ${MT5_LOGIN}
  password: ${MT5_PASSWORD}
  server: ${MT5_SERVER}
  path: ${MT5_PATH}
  timeout: 60000
  max_reconnect_attempts: 5
trading:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸŒ MULTI-SÃMBOLO: Configure mÃºltiplos sÃ­mbolos independentes
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  symbols:
    XAUUSD:
      enabled: true
      timeframes:
      - M1
      - M5
      - M15
      - M30
      - H1
      - H4
      - D1
      default_lot_size: 0.01
      min_lot_size: 0.01
      max_lot_size: 1.0
      max_open_positions: 12  # 6 estratÃ©gias Ã— 2 posiÃ§Ãµes = 12 max
      spread_threshold: 5
      slippage: 3
      
    EURUSD:
      enabled: true  # âœ… ATIVO: Opera enquanto XAUUSD fechado (Thanksgiving)
      timeframes:
      - M1
      - M5
      - M15
      - M30
      - H1
      - H4
      - D1
      default_lot_size: 0.1   # Forex usa lotes maiores (0.1 = 10k unidades)
      min_lot_size: 0.01
      max_lot_size: 2.0       # AtÃ© 2 lotes padrÃ£o
      max_open_positions: 8   # Menos agressivo que XAUUSD
      spread_threshold: 3     # EURUSD tem spread menor (0.5-2 pips)
      slippage: 2
    
    GBPUSD:
      enabled: true  # âœ… ATIVO: Cable (volatilidade mÃ©dia-alta)
      timeframes:
      - M1
      - M5
      - M15
      - M30
      - H1
      - H4
      - D1
      default_lot_size: 0.1   # 0.1 = 10k unidades (padrÃ£o forex)
      min_lot_size: 0.01
      max_lot_size: 2.0
      max_open_positions: 8
      spread_threshold: 4     # GBPUSD spread 1-3 pips (mais volÃ¡til que EUR)
      slippage: 3             # Mais slippage por volatilidade
    
    USDJPY:
      enabled: true  # âœ… ATIVO: Yen (baixa volatilidade, alta liquidez)
      timeframes:
      - M1
      - M5
      - M15
      - M30
      - H1
      - H4
      - D1
      default_lot_size: 0.1   # 0.1 = 10k unidades
      min_lot_size: 0.01
      max_lot_size: 2.0
      max_open_positions: 8
      spread_threshold: 3     # USDJPY spread 0.5-2 pips (muito lÃ­quido)
      slippage: 2

# ğŸŒ Market Condition Analysis - SeleÃ§Ã£o Inteligente de EstratÃ©gias
market_analysis:
  enabled: true  # âœ… ATIVO - Filtra estratÃ©gias por condiÃ§Ã£o de mercado
  min_priority_threshold: 0.3  # 30% mÃ­nimo para operar (0.0-1.0)
  # CondiÃ§Ãµes detectadas: TRENDING_UP, TRENDING_DOWN, RANGING, VOLATILE, QUIET, NEWS_IMPACT
  # - TRENDING: Recomenda trend_following, breakout
  # - RANGING: Recomenda range_trading, scalping, mean_reversion
  # - VOLATILE: Recomenda breakout, news_trading, scalping
  # - QUIET: Recomenda scalping, range_trading
  # - NEWS_IMPACT: Recomenda news_trading, breakout

risk:
  max_risk_per_trade: 0.02
  max_drawdown: 0.08  # â¬‡ï¸ REDUZIDO: 15%â†’8% (day trading seguro)
  max_daily_loss: 0.05
  stop_loss_pips: 50
  take_profit_pips: 100
  trailing_stop_enabled: true
  trailing_stop_distance: 25  # ğŸ¯ OTIMIZADO: Stop dinÃ¢mico protege lucros progressivamente
  break_even_enabled: false  # âŒ DESATIVADO: Break-even pode travar lucros prematuramente
  break_even_trigger: 40  # Mantido para referÃªncia (desativado)
schedule:
  timezone: America/New_York
  trading_days:
  - 0
  - 1
  - 2
  - 3
  - 4
  market_open:
    hour: 18
    minute: 30
  market_close:
    hour: 16
    minute: 30
  weekend_close:
    day: 5
    hour: 16
    minute: 30
  weekend_open:
    day: 0
    hour: 18
    minute: 30
  avoid_news_minutes_before: 0
  avoid_news_minutes_after: 0
strategies:
  # ğŸš€ TODAS ESTRATÃ‰GIAS ATIVAS - CONTA DEMO
  enabled:
    - trend_following
    - range_trading
    - mean_reversion
    - breakout
    - news_trading
    - scalping
  
  trend_following:
    enabled: true  # âœ… REATIVADA com SL/TP corrigidos
    timeframe: H1
    cycle_seconds: 600  # ğŸ”§ MUDADO: 900â†’600 (10min ao invÃ©s de 15min)
    max_positions: 2
    min_confidence: 0.75  # ğŸ”§ CORRIGIDO: 0.60â†’0.75 (exigir 6/8 condiÃ§Ãµes, nÃ£o 5/8)
    ema_fast: 12
    ema_slow: 26
    adx_threshold: 30  # ğŸ”§ AUMENTADO: 25â†’30 (tendÃªncias mais fortes)
    min_trend_strength: 0.6
    trailing_stop_distance: 25  # ğŸ¯ Stop dinÃ¢mico acompanha tendÃªncia
    break_even_trigger: 50  # Ignorado (desativado globalmente)
    partial_close_trigger: 60  # Fecha 50% aos 60 pips
    max_spread_pips: 2.0
    volume_confirmation: true
  mean_reversion:
    enabled: true  # âœ… ATIVADA PARA TESTES
    timeframe: M15
    cycle_seconds: 600
    max_positions: 2
    min_confidence: 0.60  # ğŸ§ª TESTE: 0.75â†’0.60 (mais permissivo)
    bollinger_period: 20
    bollinger_std: 2
    rsi_period: 14
    rsi_overbought: 70
    rsi_oversold: 30
    trailing_stop_distance: 15  # ğŸ¯ Stop mais apertado para reversÃµes
    break_even_trigger: 18  # Ignorado (desativado globalmente)
    partial_close_trigger: 30  # Fecha 50% aos 30 pips
    max_spread_pips: 2.0
    volume_confirmation: true
  breakout:
    enabled: true  # âœ… ATIVADA PARA TESTES
    timeframe: M30
    cycle_seconds: 1800
    max_positions: 2
    min_confidence: 0.65  # ğŸ§ª TESTE: 0.80â†’0.65 (mais permissivo)
    support_resistance_lookback: 50
    breakout_confirmation_candles: 2
    volume_threshold: 1.5
    trailing_stop_distance: 30  # ğŸ¯ Stop mais largo para capturar breakouts
    break_even_trigger: 35  # Ignorado (desativado globalmente)
    partial_close_trigger: 50  # Fecha 50% aos 50 pips
    max_spread_pips: 2.0
    volume_confirmation: true
  news_trading:
    enabled: true
    cycle_seconds: 300
    max_positions: 2
    min_confidence: 0.65  # ğŸ§ª TESTE: 0.80â†’0.65 (mais permissivo)
    high_impact_only: true
    min_sentiment_confidence: 0.7
    trade_on_prediction: true
    trailing_stop_distance: 20  # ğŸ¯ Stop moderado para volatilidade de notÃ­cias
    break_even_trigger: 20  # Ignorado (desativado globalmente)
    partial_close_trigger: 35  # Fecha 50% aos 35 pips
    max_spread_pips: 2.0
    volume_confirmation: true
  scalping:
    enabled: true  # âœ… ATIVADA PARA TESTES
    timeframe: M5
    cycle_seconds: 120  # ğŸ”§ MUDADO: 60â†’120s (menos agressivo)
    max_positions: 2  # ğŸ”§ AUMENTADO: 1â†’2 (2 posiÃ§Ãµes simultÃ¢neas por mercado)
    min_confidence: 0.60  # ğŸ§ª TESTE: 0.70â†’0.60 (mais permissivo)
    max_spread_pips: 12  # ğŸ”§ AJUSTADO: 3â†’12 (XAUUSD tem spread maior que forex)
    min_momentum: 0.00015  # ğŸ”§ MUDADO: 0.0002â†’0.00015 (menos restritivo)
    rsi_min: 35  # ğŸ”§ MUDADO: 40â†’35 (faixa mais ampla)
    rsi_max: 65  # ğŸ”§ MUDADO: 60â†’65 (faixa mais ampla)
    target_pips: 8
    stop_pips: 4
    min_volume_ratio: 1.2
    trailing_stop_distance: 6  # ğŸ¯ Stop bem apertado para scalping rÃ¡pido
    break_even_trigger: 8  # Ignorado (desativado globalmente)
    partial_close_trigger: 12  # Fecha 50% aos 12 pips
    volume_confirmation: true
    max_trades_per_hour: 2
    exempt_from_macro: true  # ğŸ”¥ NOVO: Scalping nÃ£o usa filtro macro (rÃ¡pido demais)
  range_trading:
    enabled: true  # âœ… REATIVADA com SL/TP corrigidos (MONITORAR CLOSELY!)
    timeframe: M5
    cycle_seconds: 300  # ğŸ”§ MUDADO: 180â†’300 (5min ao invÃ©s de 3min)
    max_positions: 2  # ğŸ”§ AUMENTADO: 1â†’2 (2 posiÃ§Ãµes simultÃ¢neas por mercado)
    min_confidence: 0.65  # ğŸ§ª TESTE: 0.75â†’0.65 (mais permissivo)
    adx_max: 20  # ğŸ”§ REDUZIDO: 25â†’20 (apenas ranges muito claros)
    rsi_buy_min: 35
    rsi_buy_max: 45
    rsi_sell_min: 55
    rsi_sell_max: 65
    stoch_low: 30
    stoch_high: 70
    bb_touch_threshold: 0.003
    trailing_stop_distance: 18  # ğŸ¯ Stop dinÃ¢mico para movimentos laterais
    break_even_trigger: 35  # Ignorado (desativado globalmente)
    partial_close_trigger: 40  # Fecha 50% aos 40 pips
    max_spread_pips: 2.0
    volume_confirmation: true
technical_analysis:
  indicators:
  - name: EMA
    periods:
    - 9
    - 21
    - 50
    - 200
  - name: SMA
    periods:
    - 20
    - 50
    - 100
    - 200
  - name: MACD
    fast: 12
    slow: 26
    signal: 9
  - name: ADX
    period: 14
  - name: RSI
    period: 14
  - name: Stochastic
    k_period: 14
    d_period: 3
  - name: CCI
    period: 20
  - name: Bollinger Bands
    period: 20
    std: 2
  - name: ATR
    period: 14
  - name: Keltner Channel
    period: 20
    multiplier: 2
  - name: Volume
  - name: OBV
  - name: MFI
    period: 14
  patterns:
  - Doji
  - Hammer
  - Shooting Star
  - Engulfing
  - Morning Star
  - Evening Star
  - Three White Soldiers
  - Three Black Crows
ml:
  enabled: true
  model_type: ensemble
  retrain_frequency: daily
  min_training_samples: 1000
  features:
  - price_change
  - volume_change
  - rsi
  - macd
  - bollinger_position
  - atr
  - time_of_day
  - day_of_week
  - news_sentiment
  target: profitable_trade
  validation_split: 0.2
  test_split: 0.1
news:
  forexnews_api_key: u2lyge5a8ehgtlikrv4owyqsitphrcxqu6afzuja
  finazon_api_key: 830c05bb65994f99ae39629a0e9f8edffw
  fmp_api_key: ZvAVZ4inPZ4mtTnJ4cuLSQYYSrLQcfkr
  twelvedata_api_key: a0f59fab7a354ce080c93b0b019e5e61
  finnhub_api_key: d47a14hr01qh8nnbrh7gd47a14hr01qh8nnbrh80
  sources:
  - forexnews
  - finnhub
  - financialmodelingprep
  sentiment_analysis:
    enabled: true
    model: transformer
    confidence_threshold: 0.6
  impact_levels:
    high:
    - NFP
    - FOMC
    - CPI
    - GDP
    - Interest Rate Decision
    medium:
    - Unemployment
    - Retail Sales
    - Manufacturing PMI
    low:
    - Consumer Confidence
    - Housing Data
order_generator:
  enabled: true
  cycle_interval_seconds: 300
  min_signal_confidence: 0.6
  require_consensus: true
  trading_hours:
    start_hour: 0
    start_minute: 0
    end_hour: 23
    end_minute: 59
order_manager:
  enabled: true
  cycle_interval_seconds: 5  # ğŸš€ REDUZIDO: 60â†’5s (captura movimentos rÃ¡pidos)
  partial_close:
    enabled: true
    target_pips: 50  # â¬†ï¸ AUMENTADO: 20â†’50 pips (fecha 50% sÃ³ apÃ³s lucro consistente)
    close_percentage: 0.5  # Fecha metade da posiÃ§Ã£o = garante lucro
notifications:
  telegram:
    enabled: true
    send_trade_signals: true
    send_trade_executions: true
    send_trade_closures: true
    send_daily_summary: true
    send_errors: true
    send_warnings: true
  # ğŸ†• NotificaÃ§Ãµes de NotÃ­cias em PortuguÃªs
  news:
    enabled: true
    min_importance: 3  # ImportÃ¢ncia mÃ­nima (1-5): 3=mÃ©dia, 4=alta, 5=crÃ­tica
    interval_minutes: 15  # Verificar notÃ­cias a cada 15 minutos
  email:
    enabled: false
    smtp_server: smtp.gmail.com
    smtp_port: 587
    from_email: ''
    to_email: ''
logging:
  level: INFO  # INFO para monitorar operaÃ§Ãµes e aprendizagem
  format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
  handlers:
  - console
  - file
  - rotating_file
  file_path: logs/urion.log
  max_file_size: 10485760  # 10MB por arquivo
  backup_count: 10  # MÃ¡ximo 100MB (10 arquivos Ã— 10MB)
database:
  url: ${DATABASE_URL}
  pool_size: 10
  max_overflow: 20
  echo: false
redis:
  url: ${REDIS_URL}
  decode_responses: true
  max_connections: 50
# ğŸ“Š Sistema de RelatÃ³rios AutomÃ¡ticos
reporting:
  daily_report:
    enabled: true
    time: "23:59"  # HorÃ¡rio de envio
    telegram: true  # Enviar via Telegram
  weekly_report:
    enabled: true
    day: "sunday"  # Dia da semana
    time: "23:59"
    telegram: true
  monthly_report:
    enabled: true
    time: "23:59"  # Ãšltimo dia do mÃªs
    telegram: true

monitoring:
  prometheus_enabled: false
  prometheus_port: 9090
  sentry_enabled: false
  sentry_dsn: ${SENTRY_DSN}
  metrics:
  - total_trades
  - winning_trades
  - losing_trades
  - win_rate
  - profit_factor
  - sharpe_ratio
  - max_drawdown
  - average_trade_duration
